#include "oled.h"
#include "main.h"

typFNT_ASC16 ASC_16[] =
    {
        {"0", {0x00, 0xE0, 0x10, 0x08, 0x08, 0x10, 0xE0, 0x00, 0x00, 0x0F, 0x10, 0x20, 0x20, 0x10, 0x0F, 0x00}}, //"0"

        {"1", {0x00, 0x00, 0x10, 0x10, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x20, 0x3F, 0x20, 0x20, 0x00}}, //"1"

        {"2", {0x00, 0x70, 0x08, 0x08, 0x08, 0x08, 0xF0, 0x00, 0x00, 0x30, 0x28, 0x24, 0x22, 0x21, 0x30, 0x00}}, //"2"

        {"3", {0x00, 0x30, 0x08, 0x08, 0x08, 0x88, 0x70, 0x00, 0x00, 0x18, 0x20, 0x21, 0x21, 0x22, 0x1C, 0x00}}, //"3"

        {"4", {0x00, 0x00, 0x80, 0x40, 0x30, 0xF8, 0x00, 0x00, 0x00, 0x06, 0x05, 0x24, 0x24, 0x3F, 0x24, 0x24}}, //"4"

        {"5", {0x00, 0xF8, 0x88, 0x88, 0x88, 0x08, 0x08, 0x00, 0x00, 0x19, 0x20, 0x20, 0x20, 0x11, 0x0E, 0x00}}, //"5"

        {"6", {0x00, 0xE0, 0x10, 0x88, 0x88, 0x90, 0x00, 0x00, 0x00, 0x0F, 0x11, 0x20, 0x20, 0x20, 0x1F, 0x00}}, //"6"

        {"7", {0x00, 0x18, 0x08, 0x08, 0x88, 0x68, 0x18, 0x00, 0x00, 0x00, 0x00, 0x3E, 0x01, 0x00, 0x00, 0x00}}, //"7"

        {"8", {0x00, 0x70, 0x88, 0x08, 0x08, 0x88, 0x70, 0x00, 0x00, 0x1C, 0x22, 0x21, 0x21, 0x22, 0x1C, 0x00}}, //"8"

        {"9", {0x00, 0xF0, 0x08, 0x08, 0x08, 0x10, 0xE0, 0x00, 0x00, 0x01, 0x12, 0x22, 0x22, 0x11, 0x0F, 0x00}}, //"9"

        {"a", {0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x19, 0x24, 0x24, 0x12, 0x3F, 0x20, 0x00}}, /*"a"*/

        {"b", {0x10, 0xF0, 0x00, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x3F, 0x11, 0x20, 0x20, 0x11, 0x0E, 0x00}}, /*"b"*/

        {"c", {0x00, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x0E, 0x11, 0x20, 0x20, 0x20, 0x11, 0x00}}, /*"c"*/

        {"d", {0x00, 0x00, 0x80, 0x80, 0x80, 0x90, 0xF0, 0x00, 0x00, 0x1F, 0x20, 0x20, 0x20, 0x10, 0x3F, 0x20}}, /*"d"*/

        {"e", {0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x1F, 0x24, 0x24, 0x24, 0x24, 0x17, 0x00}}, /*"e"*/

        {"f", {0x00, 0x80, 0x80, 0xE0, 0x90, 0x90, 0x20, 0x00, 0x00, 0x20, 0x20, 0x3F, 0x20, 0x20, 0x00, 0x00}}, /*"f"*/

        {"g", {0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x6B, 0x94, 0x94, 0x94, 0x93, 0x60, 0x00}}, /*"g"*/

        {"h", {0x10, 0xF0, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x20, 0x3F, 0x21, 0x00, 0x00, 0x20, 0x3F, 0x20}}, /*"h"*/

        {"i", {0x00, 0x80, 0x98, 0x98, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x20, 0x3F, 0x20, 0x20, 0x00, 0x00}}, /*"i"*/

        {"j", {0x00, 0x00, 0x00, 0x80, 0x98, 0x98, 0x00, 0x00, 0x00, 0xC0, 0x80, 0x80, 0x80, 0x7F, 0x00, 0x00}}, /*"j"*/

        {"k", {0x10, 0xF0, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0x20, 0x3F, 0x24, 0x06, 0x29, 0x30, 0x20, 0x00}}, /*"k"*/

        {"l", {0x00, 0x10, 0x10, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x20, 0x3F, 0x20, 0x20, 0x00, 0x00}}, /*"l"*/

        {"m", {0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x20, 0x3F, 0x20, 0x00, 0x3F, 0x20, 0x00, 0x3F}}, /*"m"*/

        {"n", {0x80, 0x80, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x20, 0x3F, 0x21, 0x00, 0x00, 0x20, 0x3F, 0x20}}, /*"n"*/

        {"o", {0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x1F, 0x20, 0x20, 0x20, 0x20, 0x1F, 0x00}}, /*"o"*/

        {"p", {0x80, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x00, 0x80, 0xFF, 0x91, 0x20, 0x20, 0x11, 0x0E, 0x00}}, /*"p"*/

        {"q", {0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x0E, 0x11, 0x20, 0x20, 0x91, 0xFF, 0x80}}, /*"q"*/

        {"r", {0x80, 0x80, 0x80, 0x00, 0x80, 0x80, 0x80, 0x00, 0x20, 0x20, 0x3F, 0x21, 0x20, 0x00, 0x01, 0x00}}, /*"r"*/

        {"s", {0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x33, 0x24, 0x24, 0x24, 0x24, 0x19, 0x00}}, /*"s"*/

        {"t", {0x00, 0x80, 0x80, 0xE0, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0x20, 0x20, 0x10, 0x00}}, /*"t"*/

        {"u", {0x80, 0x80, 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x00, 0x1F, 0x20, 0x20, 0x20, 0x10, 0x3F, 0x20}}, /*"u"*/

        {"v", {0x80, 0x80, 0x80, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x03, 0x0C, 0x30, 0x0C, 0x03, 0x00, 0x00}}, /*"v"*/

        {"w", {0x80, 0x80, 0x00, 0x80, 0x80, 0x00, 0x80, 0x80, 0x01, 0x0E, 0x30, 0x0C, 0x07, 0x38, 0x06, 0x01}}, /*"w"*/

        {"x", {0x00, 0x80, 0x80, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x20, 0x31, 0x0E, 0x2E, 0x31, 0x20, 0x00}}, /*"x"*/

        {"y", {0x80, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0x81, 0x86, 0x78, 0x18, 0x06, 0x01, 0x00}}, /*"y"*/

        {"z", {0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x21, 0x30, 0x2C, 0x22, 0x21, 0x30, 0x00}}, /*"z"*/

        {":", {0x00, 0x00, 0x00, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30, 0x30, 0x00, 0x00, 0x00}}, /*":"*/

        {".", {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00}}, /*"."*/
};
/***************************16*16闂備焦鐪归崝宀€鈧凹鍣ｅ畷鎴︽晲婢跺鎸€闂傚倸鐗婄粙鎾诲箺閻旇褰掓晲閸℃ê纰嶉悷婊勬緲濞层倛鐏掗梺鏂ユ櫅閸燁垶鎮″▎鎴斿亾濞堝灝鏋涘Δ鐘茬箳濡叉劖瀵奸弶鎴狀槯闂備緡鍓欑粔鐢哥€烽梻浣哄仺閸庢煡寮婚敓鐘茬劦妞ゆ帊鐒﹂悡銉╂煕椤垳绨介柟顔藉娴狅箓鎮惧畝鈧、鍛存⒑閻愯棄鍔滈柡宀嬬節閸┾偓妞ゆ帊鐒﹂ˉ鍫ユ煃瑜滈崜娆徫涘Δ鍛畺婵犲﹤瀚紞鍥煙閹冩毐婵綇鎷�*********/
typFNT_GB16 GB_16[] =
    {
        {"高", {0x04, 0x04, 0x04, 0x04, 0xF4, 0x94, 0x95, 0x96, 0x94, 0x94, 0xF4, 0x04, 0x04, 0x04, 0x04, 0x00, 0x00, 0xFE, 0x02, 0x02, 0x7A, 0x4A, 0x4A, 0x4A, 0x4A, 0x4A, 0x7A, 0x02, 0x82, 0xFE, 0x00, 0x00}}, /*濠德板€曢崑濠囧箯閿燂拷*/

        {"凯", {0x5E, 0x50, 0x50, 0x5F, 0x50, 0x50, 0xDE, 0x00, 0xFE, 0x02, 0x02, 0xFE, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7E, 0x42, 0x22, 0x22, 0x12, 0x93, 0x60, 0x1F, 0x00, 0x00, 0x3F, 0x40, 0x40, 0x78, 0x00}}, /*闂備礁鎲￠崺濠囧箯閿燂拷*/

        {"琦", {0x84, 0x84, 0xFC, 0x84, 0x84, 0x40, 0x64, 0x54, 0x4C, 0x47, 0x4C, 0x54, 0xE4, 0x44, 0x40, 0x00, 0x10, 0x30, 0x1F, 0x08, 0x08, 0x00, 0x1F, 0x11, 0x11, 0x1F, 0x40, 0x80, 0x7F, 0x00, 0x00, 0x00}}, /*闂備浇宕甸崕鎴﹀箯閿燂拷*/

        {"加", {0x10, 0x10, 0x10, 0xFF, 0x10, 0x10, 0xF0, 0x00, 0x00, 0xF8, 0x08, 0x08, 0x08, 0xF8, 0x00, 0x00, 0x80, 0x40, 0x30, 0x0F, 0x40, 0x80, 0x7F, 0x00, 0x00, 0x7F, 0x20, 0x20, 0x20, 0x7F, 0x00, 0x00}}, /*闂備礁鎲″Λ鎴﹀箯閿燂拷*/

        {"油", {0x10, 0x60, 0x02, 0x8C, 0x00, 0xF0, 0x10, 0x10, 0x10, 0xFF, 0x10, 0x10, 0x10, 0xF0, 0x00, 0x00, 0x04, 0x04, 0x7E, 0x01, 0x00, 0xFF, 0x42, 0x42, 0x42, 0x7F, 0x42, 0x42, 0x42, 0xFF, 0x00, 0x00}}, /*婵犵數鍋涢惌澶愬箯閿燂拷*/

        {"！", {0x00, 0x00, 0x00, 0xFE, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x33, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}}, /*闂備焦瀵ч崘濠氬箯閿燂拷*/

        {"苏", {0x04, 0x44, 0x44, 0x44, 0x5F, 0x44, 0xF4, 0x44, 0x44, 0x44, 0x5F, 0xC4, 0x04, 0x04, 0x04, 0x00, 0x00, 0x10, 0x8E, 0x40, 0x20, 0x18, 0x07, 0x00, 0x40, 0x80, 0x40, 0x3F, 0x00, 0x01, 0x0E, 0x00}}, /*闂備線妫跨槐顕€骞忛敓锟�*/

        {"培", {0x20, 0x20, 0x20, 0xFF, 0x20, 0x20, 0x80, 0x94, 0xA4, 0x85, 0x86, 0xA4, 0x94, 0x84, 0x80, 0x00, 0x10, 0x30, 0x10, 0x0F, 0x08, 0x08, 0x00, 0xFC, 0x44, 0x44, 0x44, 0x44, 0x44, 0xFC, 0x00, 0x00}}, /*闂備胶纭堕弲顏堝箯閿燂拷*/

        {"佩", {0x80, 0x60, 0xF8, 0x07, 0x00, 0xFE, 0x02, 0x92, 0x92, 0xF2, 0x92, 0x92, 0x02, 0xFE, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x80, 0x7F, 0x00, 0x1F, 0x00, 0xFF, 0x10, 0x1F, 0x00, 0x7F, 0xE0, 0x00}}, /*濠电偠鎻紞鍥箯閿燂拷*/

        {"我", {0x20, 0x24, 0x24, 0x24, 0xFE, 0x23, 0x22, 0x20, 0x20, 0xFF, 0x20, 0x22, 0x2C, 0xA0, 0x20, 0x00, 0x00, 0x08, 0x48, 0x84, 0x7F, 0x02, 0x41, 0x40, 0x20, 0x13, 0x0C, 0x14, 0x22, 0x41, 0xF8, 0x00}}, /*闂備胶顢婇幓顏堝箯閿燂拷*/

        {"爱", {0x80, 0x64, 0x2C, 0x34, 0x24, 0x24, 0xEC, 0x32, 0x22, 0x22, 0x32, 0x2E, 0x23, 0xA2, 0x60, 0x00, 0x00, 0x41, 0x21, 0x91, 0x89, 0x87, 0x4D, 0x55, 0x25, 0x25, 0x55, 0x4D, 0x81, 0x80, 0x80, 0x00}}, /*闂備胶绮悧顓㈠箯閿燂拷*/

        {"你", {0x00, 0x80, 0x60, 0xF8, 0x07, 0x40, 0x20, 0x18, 0x0F, 0x08, 0xC8, 0x08, 0x08, 0x28, 0x18, 0x00, 0x01, 0x00, 0x00, 0xFF, 0x00, 0x10, 0x0C, 0x03, 0x40, 0x80, 0x7F, 0x00, 0x01, 0x06, 0x18, 0x00}}, /*濠电偠鎻紞鍥箯閿燂拷*/

};

void OLED_I2C_Write_Byte(unsigned char I2C_Dat, unsigned char OLED_TYPE)
{
    if (OLED_TYPE == OLED_CMD)
    {
        HAL_I2C_Mem_Write(&hi2c1, OLED0561_ADD, OLED_CMD, I2C_MEMADD_SIZE_8BIT, &I2C_Dat, 1, 100);
    }
    if (OLED_TYPE == OLED_DAT)
    {
        HAL_I2C_Mem_Write(&hi2c1, OLED0561_ADD, OLED_DAT, I2C_MEMADD_SIZE_8BIT, &I2C_Dat, 1, 100);
    }
}
/************************OLED_Init***************

*/
void OLED_Init(void)
{

    OLED_I2C_Write_Byte(0xAE, OLED_CMD); //display off --- 闂備胶枪缁绘垶绻涙繝鍋芥盯骞橀鐓庡挤闂佸憡鎸嗘担椋庨┏
    OLED_I2C_Write_Byte(0x00, OLED_CMD); //set lower column address --- 闂佽崵濮崇粈浣规櫠娴犲鍋柛鈩冪懄鐏忓海鈧懓瀚伴崑濠傤焽濡ゅ懏鐓曢柟鐑樻惄濞堟梹绻濋埀顒勫箻椤斿ジ鏁滈梺閫炲苯澧撮柟顖氬暣瀹曠喖顢旈崱娅猴綁姊洪幖鐐插姕缂佸鍔楃槐鐐哄川鐎涙ɑ娅㈤梺璺ㄥ櫐閹凤拷?00h~0Fh
    OLED_I2C_Write_Byte(0x10, OLED_CMD); //set higher column address --- 闂佽崵濮崇粈浣规櫠娴犲鍋柛鈩冪懄鐏忓海鈧懓瀚伴崑濠傤焽濡ゅ懏鐓曢柟鐑樻惄濞堟梹绻濋埀顒勫箻椤斿ジ鏁滈梺閫炲苯澧撮柟顖氬暣瀹曠喖顢涘⿰鍐嫬闂備焦鎮堕崕鑼矙閹邦喚绀婇柛娑樼摠閺呮悂鏌ㄩ悤鍌涘?10h~17h
    OLED_I2C_Write_Byte(0x40, OLED_CMD); //set display start line --- 闂佽崵濮崇粈浣规櫠娴犲鍋柛鈩冪懄鐏忓海鈧懓瀚伴崑濠傤焽濡ゅ懏鍋犳繛鎴炃圭€氫即鏌ｉ敃鈧ù鐑藉焵椤掍胶鈯曢柨姘箾閸涱喖娴柡浣规崌閺佹捇鏁撻敓锟�?04h~7Fh
    OLED_I2C_Write_Byte(0xB0, OLED_CMD); //set page address --- 闂佽崵濮崇粈浣规櫠娴犲鍋柛鈩兦滄禍婊堟⒒閸喓鈯曢柛鏇㈢畺閺屾稖顦柛瀣崌閺屻劌鈽夊Ο鍏兼問0h~B7h
    OLED_I2C_Write_Byte(0x81, OLED_CMD); //set contrast control --- 闂佽崵濮崇粈浣规櫠娴犲鍋柛鈩冪憿閸嬫挻鎷呴崘鐐秷闂佷紮瀵岄崳锝夊极閹剧粯鏅搁柨鐕傛嫹?
    OLED_I2C_Write_Byte(0x7F, OLED_CMD); //127闂備浇娉曢崳锕傚箯閿燂拷?01h~FFh
    OLED_I2C_Write_Byte(0xA1, OLED_CMD); //set segment remap --- 闂佽崵濮崇粈浣规櫠娴犲鍋柛婵堝殜G闂傚倷鐒﹁ぐ鍐矓闂堟党锝堫槾濞存粍鎮傚畷鐔煎礈娴ｄ警妲稟0h/A1h
    OLED_I2C_Write_Byte(0xA6, OLED_CMD); //normal display --- 闂備礁鎲￠〃鍫ヮ敆閺屻儱绠柨鐕傛嫹?1闂備胶鍋ㄩ崕鑼崲閸曨垰纾婚柨婵嗘椤╁弶銇勯弮鍌氬付闁告捁鍋愮槐鎺撴綇閳轰絿銉╂煕鐎ｈ埖瀚�
                                         //A6h --- 闂備浇娉曢崳锕傚箯閿燂拷?1闂備胶鍋ㄩ崕鑼崲閸曨垰纾婚柨婵嗘椤╁弶銇勯弮鍌氬付闁告捁鍋愮槐鎺撴綇閳轰絿銉╂煕鐎ｈ埖瀚�
                                         //A7h --- 闂備浇娉曢崳锕傚箯閿燂拷?0闂備胶鍋ㄩ崕鑼崲閸曨垰纾婚柨婵嗘椤╁弶銇勯弮鍌氬付闁告捁鍋愮槐鎺撴綇閳轰絿銉╂煕鐎ｈ埖瀚�
    OLED_I2C_Write_Byte(0xA8, OLED_CMD); //set multiplex ratio --- 闂佽崵濮崇粈浣规櫠娴犲鍋柛鈩兠欢鐐存叏濡櫣锛嶉柣鏂挎噹椤法鎹勯搹鍓愩倝鏌℃担闈涒偓婵嬪极閹剧粯鏅搁柨鐕傛嫹?
    OLED_I2C_Write_Byte(0x3F, OLED_CMD); //duty = 1/64闂備浇娉曢崳锕傚箯閿燂拷?00h~3Fh
    OLED_I2C_Write_Byte(0xC8, OLED_CMD); //com scan direction --- Com闂備礁鎲￠悷杈╁緤閻愵剛鐝堕柛宀€鍋涚粻鐢哥叓閸ャ劍鈷愰柣鎾寸懇閺屾稑顫濋鐐靛帎缂備浇椴搁幀鈧�0h/C8h
    OLED_I2C_Write_Byte(0xD3, OLED_CMD); //set display offset --- 闂佽崵濮崇粈浣规櫠娴犲鍋柛鈩冪☉閸欏﹪鏌涢幘妞炬缁敻姊虹涵鍛【闁诲繑姘ㄧ划鏃堟晸閿燂拷
    OLED_I2C_Write_Byte(0x00, OLED_CMD); //00h~3Fh

    OLED_I2C_Write_Byte(0xD5, OLED_CMD); //set osc division --- 闂佽崵濮崇粈浣规櫠娴犲鍋柛鈩冪☉缁秹鏌涢锝嗙閻庢鍙冮弻娑㈠箳閹寸儐妫﹂梺鍛娗滈崐婵嗙暦椤忓棔娌柟顖嗗懏纭介梻浣稿悑閺嬭崵鎹㈠┑瀣ㄢ偓鍌炲醇閺囩喐娅㈤梺璺ㄥ櫐閹凤拷?
    OLED_I2C_Write_Byte(0x80, OLED_CMD);

    OLED_I2C_Write_Byte(0xD9, OLED_CMD); //set pre-charge period --- 闂佽崵濮崇粈浣规櫠娴犲鍋柛鈩冿公缁憋綁鏌涢弴銊ヤ簻閻㈩垳濞€閺岋綁濮€閵堝棙閿梺鐟板暱濡繈寮幘缁樻櫢闁跨噦鎷�?
    OLED_I2C_Write_Byte(0x22, OLED_CMD);

    OLED_I2C_Write_Byte(0xDA, OLED_CMD); //set com pin configuration --- 闂佽崵濮崇粈浣规櫠娴犲鍋柛婊呮珎M闂備礁鎲￠悷杈╁緤閻ｅ本顫曢柍鍝勬噺閸ゅ洦鎱ㄥΟ鎸庣【閻㈩垱濞婇弻銊╂偆閸屾稑顏�?
    OLED_I2C_Write_Byte(0x12, OLED_CMD);

    OLED_I2C_Write_Byte(0xDB, OLED_CMD); //set vcomh --- 闂佽崵濮崇粈浣规櫠娴犲鍋柛婊呮珎M闂備焦鐪归崹钘夘焽瑜忛弫顕€宕堕埡鍐攺婵犮垼娉涢惌鍌炴偘閿燂拷
    OLED_I2C_Write_Byte(0x20, OLED_CMD); //0x00 闂備胶鍋ㄩ崕鎻捨涢幋锕€绠柨鐕傛嫹? 0.65*Vcc
                                         //0x10 闂備胶鍋ㄩ崕鎻捨涢幋锕€绠柨鐕傛嫹? 0.71*Vcc
                                         //0x20 闂備胶鍋ㄩ崕鎻捨涢幋锕€绠柨鐕傛嫹? 0.77*Vcc
                                         //0x30 闂備胶鍋ㄩ崕鎻捨涢幋锕€绠柨鐕傛嫹? 0.83*Vcc

    OLED_I2C_Write_Byte(0x8D, OLED_CMD); //set charge pump enable --- 闂佽崵濮崇粈浣规櫠娴犲鍋柛鈩冪⊕閸嬨劌霉閿濆懎鏆欑紒浣筋潐缁绘稒寰勬繝鍌涘€庢繝鐢靛仜濞差參寮幘缁樻櫢闁跨噦鎷�?
    OLED_I2C_Write_Byte(0x14, OLED_CMD);
    OLED_I2C_Write_Byte(0xAF, OLED_CMD); //display on --- 闂備胶鎳撻悘姘跺箰閸濄儲顫曢柟杈剧畱閸欏﹪鏌涢幘妞炬缁拷
}

/*line:0-7;column:0-128 
lint increase 1 = 8; column increase 1 = 1;
*/
void OLED_SetPos(unsigned char line, unsigned char column) //闂佽崵濮崇粈浣规櫠娴犲鍋柛鈩冪懄鐏忓海鈧懓瀚伴崑濠傤焽濡ゅ懏鐓熼柟閭﹀枟閸も偓濠电偛鍚嬮〃濠囧极閹剧粯鏅搁柨鐕傛嫹?
{
    OLED_I2C_Write_Byte(0xb0 + line, OLED_CMD);     /*闂佽崵濮崇粈浣规櫠娴犲鍋柛鈩兦滄禍婊堟⒒閸喓鈯曢柛鏇㈢畺閺屾稖顦柛瀣舵嫹*/
    OLED_I2C_Write_Byte((column & 0x0F), OLED_CMD); /*闂佽崵濮崇粈浣规櫠娴犲鍋柛鈩冪☉缁€鍡樹繆閵堝倸浜惧┑鐘亾闁圭虎鍠栭柨銈夋煃瑜濋幏锟�*/
    OLED_I2C_Write_Byte((column >> 4) | 0x10, OLED_CMD);
}

void OLED_Fill(unsigned char fill_Data) 
{
    unsigned char m, n;
    for (m = 0; m < 8; m++)
    {
        OLED_I2C_Write_Byte(0xb0 + m, OLED_CMD); //page0-page1
        OLED_I2C_Write_Byte(0x00, OLED_CMD);     //low column start address
        OLED_I2C_Write_Byte(0x10, OLED_CMD);     //high column start address
        for (n = 0; n < 128; n++)
        {
            OLED_I2C_Write_Byte(fill_Data, OLED_DAT);
        }
    }
}

/*clear screen*/
void OLED_CLS(void)
{
    OLED_Fill(0x00);
}

void OLED_ON(void)
{
    OLED_I2C_Write_Byte(0X8D, OLED_CMD); //闂佽崵濮崇粈浣规櫠娴犲鍋柛鈩冪⊕閸嬨劌霉閿濆懎鏆欑紒浣哥秺閺屻劑鎮ら崒娑橆伓?
    OLED_I2C_Write_Byte(0X14, OLED_CMD); //闁诲孩顔栭崰鎺楀磻閹剧粯鐓曟慨妯煎帶閻忥綁鏌℃担瑙勫€愰柟绛圭節閺屻劎鈧綆鍘界花锟�
    OLED_I2C_Write_Byte(0XAF, OLED_CMD); //OLED闂備礁鎽滈崑鎴﹀磹濠靛鐤柨鐕傛嫹
}

void OLED_OFF(void)
{
    OLED_I2C_Write_Byte(0X8D, OLED_CMD); //闂佽崵濮崇粈浣规櫠娴犲鍋柛鈩冪⊕閸嬨劌霉閿濆懎鏆欑紒浣哥秺閺屻劑鎮ら崒娑橆伓?
    OLED_I2C_Write_Byte(0X10, OLED_CMD); //闂備胶枪缁绘垶绻涙繝鍋芥盯骞橀钘変缓婵炶揪绲介崯顐ょ矈瑜版帗鐓ラ柣鏇炲€圭€氾拷?
    OLED_I2C_Write_Byte(0XAE, OLED_CMD); //OLED濠电偞娼欓崥瀣垂閻熷府鑰块柨鐕傛嫹
}

void show_char_a_type(uint8_t line, uint8_t column, unsigned char *array)
{
    uint8_t i = 0;

    OLED_SetPos(line, column);
    for (i = 0; i < CHAR_SIZE_COLUMN8; i++)
    {
        OLED_I2C_Write_Byte(array[i], OLED_DAT);
    }
    OLED_SetPos(line + 1, column);
    for (i = 0; i < CHAR_SIZE_COLUMN8; i++)
    {
        OLED_I2C_Write_Byte(array[i + 8], OLED_DAT);
    }
}

void show_char_a1type(uint8_t line, uint8_t column, char character)
{
    uint8_t i = 0;

    for (i = 0; i < ASC_16_num; i++)
    {
        if (ASC_16[i].Index[0] == character)
            break;
    }

    if (i == ASC_16_num)
        return;

    show_char_a_type(line, column, ASC_16[i].Msk);
}
/*show a english or number string*/
void show_string_atype(uint8_t line, uint8_t column, char *data, uint8_t len)
{
    uint8_t i = 0;
    column *= CHAR_SIZE_COLUMN8;
    for (i = 0; i < len; i++)
    {
        show_char_a1type(line, column, *data);
        column += 1 * CHAR_SIZE_COLUMN8;
        data += 1 * EN_BYTE;
    }
}

void show_hz(uint8_t line, uint8_t column, unsigned char *array)
{
    uint8_t i = 0;

    OLED_SetPos(line, column);
    for (i = 0; i < CN_SIZE_COLUMN16; i++)
    {
        OLED_I2C_Write_Byte(array[i], OLED_DAT);
    }
    OLED_SetPos(line + 1, column);
    for (i = 0; i < CN_SIZE_COLUMN16; i++)
    {
        OLED_I2C_Write_Byte(array[i + 16], OLED_DAT);
    }
}

void show_hanzi(uint8_t line, uint8_t column, char *data)
{
    unsigned int i;

    for (i = 0; i < GB_16_num; i++)
    {
        if (GB_16[i].Index[0] == data[0] && GB_16[i].Index[1] == data[1] && GB_16[i].Index[2] == data[2])
        {
            break;
        }
    }

    if (i == GB_16_num)
    {
        return;
    }
    show_hz(line, column, GB_16[i].Msk);
}
/*show a chinese string*/
void show_chs_string(uint8_t line, uint8_t column, char *data)
{
    while (*data != '\0')
    {
        show_hanzi(line, column, data);
        column += 1 * CN_SIZE_COLUMN16;
        data += 1 * CN_BYTE; /*UTF-8,濠电偞鍨堕幐鎾磻閹炬枼妲堥柟鍨暕缁ㄥジ鏌ｉ鍡樻珪闁逞屽墯缁嬫帡鍨惧Δ銈夋⒑濞茶鏋欓柤鍐茬埣瀵偊鏁撻敓锟�3濠电偞鍨堕幖鈺傜濠婂牊鍋ょ憸鏃堝箠閻愬搫纾兼繝濠傛噽閻撲線姊虹涵鍛涧闁瑰嚖鎷�*/
    }
}
/*show a picture bmp type
line0:0-7;column0:0-127
line1:0-7;column0:1-127
*/
void show_drawBMP(unsigned char line0, unsigned char column0, unsigned char line1, unsigned char column1, unsigned char BMP[])
{
    unsigned int tmp = 0;
    unsigned char line = 0, column = 0;

    for (line = line0; line <= line1; line++)
    {
        OLED_SetPos(line, column0);
        for (column = column0; column <= column1; column++)
        {
            OLED_I2C_Write_Byte(BMP[tmp++], OLED_DAT);
        }
    }
}
u32 oled_pow(u8 m, u8 n)
{
    u32 result = 1;
    while (n--)
        result *= m;
    return result;
}
