#include "oled.h"
#include "main.h"

typFNT_ASC16 ASC_16[] =
    {
        {"0", {0x00, 0xE0, 0x10, 0x08, 0x08, 0x10, 0xE0, 0x00, 0x00, 0x0F, 0x10, 0x20, 0x20, 0x10, 0x0F, 0x00}}, //"0"

        {"1", {0x00, 0x00, 0x10, 0x10, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x20, 0x3F, 0x20, 0x20, 0x00}}, //"1"

        {"2", {0x00, 0x70, 0x08, 0x08, 0x08, 0x08, 0xF0, 0x00, 0x00, 0x30, 0x28, 0x24, 0x22, 0x21, 0x30, 0x00}}, //"2"

        {"3", {0x00, 0x30, 0x08, 0x08, 0x08, 0x88, 0x70, 0x00, 0x00, 0x18, 0x20, 0x21, 0x21, 0x22, 0x1C, 0x00}}, //"3"

        {"4", {0x00, 0x00, 0x80, 0x40, 0x30, 0xF8, 0x00, 0x00, 0x00, 0x06, 0x05, 0x24, 0x24, 0x3F, 0x24, 0x24}}, //"4"

        {"5", {0x00, 0xF8, 0x88, 0x88, 0x88, 0x08, 0x08, 0x00, 0x00, 0x19, 0x20, 0x20, 0x20, 0x11, 0x0E, 0x00}}, //"5"

        {"6", {0x00, 0xE0, 0x10, 0x88, 0x88, 0x90, 0x00, 0x00, 0x00, 0x0F, 0x11, 0x20, 0x20, 0x20, 0x1F, 0x00}}, //"6"

        {"7", {0x00, 0x18, 0x08, 0x08, 0x88, 0x68, 0x18, 0x00, 0x00, 0x00, 0x00, 0x3E, 0x01, 0x00, 0x00, 0x00}}, //"7"

        {"8", {0x00, 0x70, 0x88, 0x08, 0x08, 0x88, 0x70, 0x00, 0x00, 0x1C, 0x22, 0x21, 0x21, 0x22, 0x1C, 0x00}}, //"8"

        {"9", {0x00, 0xF0, 0x08, 0x08, 0x08, 0x10, 0xE0, 0x00, 0x00, 0x01, 0x12, 0x22, 0x22, 0x11, 0x0F, 0x00}}, //"9"

        {"a", {0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x19, 0x24, 0x24, 0x12, 0x3F, 0x20, 0x00}}, /*"a"*/

        {"b", {0x10, 0xF0, 0x00, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x3F, 0x11, 0x20, 0x20, 0x11, 0x0E, 0x00}}, /*"b"*/

        {"c", {0x00, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x0E, 0x11, 0x20, 0x20, 0x20, 0x11, 0x00}}, /*"c"*/

        {"d", {0x00, 0x00, 0x80, 0x80, 0x80, 0x90, 0xF0, 0x00, 0x00, 0x1F, 0x20, 0x20, 0x20, 0x10, 0x3F, 0x20}}, /*"d"*/

        {"e", {0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x1F, 0x24, 0x24, 0x24, 0x24, 0x17, 0x00}}, /*"e"*/

        {"f", {0x00, 0x80, 0x80, 0xE0, 0x90, 0x90, 0x20, 0x00, 0x00, 0x20, 0x20, 0x3F, 0x20, 0x20, 0x00, 0x00}}, /*"f"*/

        {"g", {0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x6B, 0x94, 0x94, 0x94, 0x93, 0x60, 0x00}}, /*"g"*/

        {"h", {0x10, 0xF0, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x20, 0x3F, 0x21, 0x00, 0x00, 0x20, 0x3F, 0x20}}, /*"h"*/

        {"i", {0x00, 0x80, 0x98, 0x98, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x20, 0x3F, 0x20, 0x20, 0x00, 0x00}}, /*"i"*/

        {"j", {0x00, 0x00, 0x00, 0x80, 0x98, 0x98, 0x00, 0x00, 0x00, 0xC0, 0x80, 0x80, 0x80, 0x7F, 0x00, 0x00}}, /*"j"*/

        {"k", {0x10, 0xF0, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0x20, 0x3F, 0x24, 0x06, 0x29, 0x30, 0x20, 0x00}}, /*"k"*/

        {"l", {0x00, 0x10, 0x10, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x20, 0x3F, 0x20, 0x20, 0x00, 0x00}}, /*"l"*/

        {"m", {0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x20, 0x3F, 0x20, 0x00, 0x3F, 0x20, 0x00, 0x3F}}, /*"m"*/

        {"n", {0x80, 0x80, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x20, 0x3F, 0x21, 0x00, 0x00, 0x20, 0x3F, 0x20}}, /*"n"*/

        {"o", {0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x1F, 0x20, 0x20, 0x20, 0x20, 0x1F, 0x00}}, /*"o"*/

        {"p", {0x80, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x00, 0x80, 0xFF, 0x91, 0x20, 0x20, 0x11, 0x0E, 0x00}}, /*"p"*/

        {"q", {0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x0E, 0x11, 0x20, 0x20, 0x91, 0xFF, 0x80}}, /*"q"*/

        {"r", {0x80, 0x80, 0x80, 0x00, 0x80, 0x80, 0x80, 0x00, 0x20, 0x20, 0x3F, 0x21, 0x20, 0x00, 0x01, 0x00}}, /*"r"*/

        {"s", {0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x33, 0x24, 0x24, 0x24, 0x24, 0x19, 0x00}}, /*"s"*/

        {"t", {0x00, 0x80, 0x80, 0xE0, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0x20, 0x20, 0x10, 0x00}}, /*"t"*/

        {"u", {0x80, 0x80, 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x00, 0x1F, 0x20, 0x20, 0x20, 0x10, 0x3F, 0x20}}, /*"u"*/

        {"v", {0x80, 0x80, 0x80, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x03, 0x0C, 0x30, 0x0C, 0x03, 0x00, 0x00}}, /*"v"*/

        {"w", {0x80, 0x80, 0x00, 0x80, 0x80, 0x00, 0x80, 0x80, 0x01, 0x0E, 0x30, 0x0C, 0x07, 0x38, 0x06, 0x01}}, /*"w"*/

        {"x", {0x00, 0x80, 0x80, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x20, 0x31, 0x0E, 0x2E, 0x31, 0x20, 0x00}}, /*"x"*/

        {"y", {0x80, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0x81, 0x86, 0x78, 0x18, 0x06, 0x01, 0x00}}, /*"y"*/

        {"z", {0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x21, 0x30, 0x2C, 0x22, 0x21, 0x30, 0x00}}, /*"z"*/

        {":", {0x00, 0x00, 0x00, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30, 0x30, 0x00, 0x00, 0x00}}, /*":"*/

        {".", {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00}}, /*"."*/
};
/***************************16*16閻ㄥ嫮鍋ｉ梼闈涚摟娴ｆ挸褰囧Ο鈩冩煙瀵骏绱伴崗閬嶆Ь閳ユ柡鈧柨鍨悰灞界础閳ユ柡鈧棃鈧棗鎮滄潏鎾冲毉*********/
typFNT_GB16 GB_16[] =
    {
        {"高", {0x04, 0x04, 0x04, 0x04, 0xF4, 0x94, 0x95, 0x96, 0x94, 0x94, 0xF4, 0x04, 0x04, 0x04, 0x04, 0x00, 0x00, 0xFE, 0x02, 0x02, 0x7A, 0x4A, 0x4A, 0x4A, 0x4A, 0x4A, 0x7A, 0x02, 0x82, 0xFE, 0x00, 0x00}}, /*妤傦拷*/

        {"凯", {0x5E, 0x50, 0x50, 0x5F, 0x50, 0x50, 0xDE, 0x00, 0xFE, 0x02, 0x02, 0xFE, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7E, 0x42, 0x22, 0x22, 0x12, 0x93, 0x60, 0x1F, 0x00, 0x00, 0x3F, 0x40, 0x40, 0x78, 0x00}}, /*閸戯拷*/

        {"琦", {0x84, 0x84, 0xFC, 0x84, 0x84, 0x40, 0x64, 0x54, 0x4C, 0x47, 0x4C, 0x54, 0xE4, 0x44, 0x40, 0x00, 0x10, 0x30, 0x1F, 0x08, 0x08, 0x00, 0x1F, 0x11, 0x11, 0x1F, 0x40, 0x80, 0x7F, 0x00, 0x00, 0x00}}, /*閻烇拷*/

        {"加", {0x10, 0x10, 0x10, 0xFF, 0x10, 0x10, 0xF0, 0x00, 0x00, 0xF8, 0x08, 0x08, 0x08, 0xF8, 0x00, 0x00, 0x80, 0x40, 0x30, 0x0F, 0x40, 0x80, 0x7F, 0x00, 0x00, 0x7F, 0x20, 0x20, 0x20, 0x7F, 0x00, 0x00}}, /*閸旓拷*/

        {"油", {0x10, 0x60, 0x02, 0x8C, 0x00, 0xF0, 0x10, 0x10, 0x10, 0xFF, 0x10, 0x10, 0x10, 0xF0, 0x00, 0x00, 0x04, 0x04, 0x7E, 0x01, 0x00, 0xFF, 0x42, 0x42, 0x42, 0x7F, 0x42, 0x42, 0x42, 0xFF, 0x00, 0x00}}, /*濞岋拷*/

        {"！", {0x00, 0x00, 0x00, 0xFE, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x33, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}}, /*閿涳拷*/

        {"苏", {0x04, 0x44, 0x44, 0x44, 0x5F, 0x44, 0xF4, 0x44, 0x44, 0x44, 0x5F, 0xC4, 0x04, 0x04, 0x04, 0x00, 0x00, 0x10, 0x8E, 0x40, 0x20, 0x18, 0x07, 0x00, 0x40, 0x80, 0x40, 0x3F, 0x00, 0x01, 0x0E, 0x00}}, /*閼伙拷*/

        {"培", {0x20, 0x20, 0x20, 0xFF, 0x20, 0x20, 0x80, 0x94, 0xA4, 0x85, 0x86, 0xA4, 0x94, 0x84, 0x80, 0x00, 0x10, 0x30, 0x10, 0x0F, 0x08, 0x08, 0x00, 0xFC, 0x44, 0x44, 0x44, 0x44, 0x44, 0xFC, 0x00, 0x00}}, /*閸╋拷*/

        {"佩", {0x80, 0x60, 0xF8, 0x07, 0x00, 0xFE, 0x02, 0x92, 0x92, 0xF2, 0x92, 0x92, 0x02, 0xFE, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x80, 0x7F, 0x00, 0x1F, 0x00, 0xFF, 0x10, 0x1F, 0x00, 0x7F, 0xE0, 0x00}}, /*娴ｏ拷*/

        {"我", {0x20, 0x24, 0x24, 0x24, 0xFE, 0x23, 0x22, 0x20, 0x20, 0xFF, 0x20, 0x22, 0x2C, 0xA0, 0x20, 0x00, 0x00, 0x08, 0x48, 0x84, 0x7F, 0x02, 0x41, 0x40, 0x20, 0x13, 0x0C, 0x14, 0x22, 0x41, 0xF8, 0x00}}, /*閹达拷*/

        {"爱", {0x80, 0x64, 0x2C, 0x34, 0x24, 0x24, 0xEC, 0x32, 0x22, 0x22, 0x32, 0x2E, 0x23, 0xA2, 0x60, 0x00, 0x00, 0x41, 0x21, 0x91, 0x89, 0x87, 0x4D, 0x55, 0x25, 0x25, 0x55, 0x4D, 0x81, 0x80, 0x80, 0x00}}, /*閻栵拷*/

        {"你", {0x00, 0x80, 0x60, 0xF8, 0x07, 0x40, 0x20, 0x18, 0x0F, 0x08, 0xC8, 0x08, 0x08, 0x28, 0x18, 0x00, 0x01, 0x00, 0x00, 0xFF, 0x00, 0x10, 0x0C, 0x03, 0x40, 0x80, 0x7F, 0x00, 0x01, 0x06, 0x18, 0x00}}, /*娴ｏ拷*/

};

void OLED_I2C_Write_Byte(unsigned char I2C_Dat, unsigned char OLED_TYPE)
{
    if (OLED_TYPE == OLED_CMD)
    {
        HAL_I2C_Mem_Write(&hi2c1, OLED0561_ADD, OLED_CMD, I2C_MEMADD_SIZE_8BIT, &I2C_Dat, 1, 100);
    }
    if (OLED_TYPE == OLED_DAT)
    {
        HAL_I2C_Mem_Write(&hi2c1, OLED0561_ADD, OLED_DAT, I2C_MEMADD_SIZE_8BIT, &I2C_Dat, 1, 100);
    }
}
/************************OLED_Init***************
    //濞夈劑鍣撮崣顏呮Ц鐎电懓鎳℃禒銈呯摟閼哄倻鐣濋崡鏇犳畱娴犲绮�
    //閸忓厖绨崚婵嗩潗閸栨牕鎳℃禒銈呯摟閼哄倻娈戠拠锔剧矎閹诲繗鍫敍灞藉讲娴犮儱寮懓鍐嚠鎼存棃鈹嶉崝銊ㄥП閻楀洨娈戦弫鐗堝祦閹靛鍞�
    //OLED濡€虫健閸掓繂顫愰敓锟�?
*/
void OLED_Init(void)
{

    OLED_I2C_Write_Byte(0xAE, OLED_CMD); //display off --- 閸忔娊妫撮弰鍓с仛
    OLED_I2C_Write_Byte(0x00, OLED_CMD); //set lower column address --- 鐠佸墽鐤嗙挧宄邦潗閸掓婀撮崸鈧惃鍕秵閸ユ稐缍呴敓锟�?00h~0Fh
    OLED_I2C_Write_Byte(0x10, OLED_CMD); //set higher column address --- 鐠佸墽鐤嗙挧宄邦潗閸掓婀撮崸鈧惃鍕彯閸ユ稐缍呴敓锟�?10h~17h
    OLED_I2C_Write_Byte(0x40, OLED_CMD); //set display start line --- 鐠佸墽鐤嗙挧宄邦潗鐞涘苯鐦庣€涙ê娅掗敓锟�?04h~7Fh
    OLED_I2C_Write_Byte(0xB0, OLED_CMD); //set page address --- 鐠佸墽鐤嗘い闈涙勾閸р偓閿涘瓓0h~B7h
    OLED_I2C_Write_Byte(0x81, OLED_CMD); //set contrast control --- 鐠佸墽鐤嗙€佃鐦敓锟�?
    OLED_I2C_Write_Byte(0x7F, OLED_CMD); //127閿燂拷?01h~FFh
    OLED_I2C_Write_Byte(0xA1, OLED_CMD); //set segment remap --- 鐠佸墽鐤哠EG闁插秵妲х亸鍕剁礉A0h/A1h
    OLED_I2C_Write_Byte(0xA6, OLED_CMD); //normal display --- 閸楃鎷�?1閳ユ繄鍋ｆ禍顔煎剼缁辩姷鍋�
                                         //A6h --- 閿燂拷?1閳ユ繄鍋ｆ禍顔煎剼缁辩姷鍋�
                                         //A7h --- 閿燂拷?0閳ユ繄鍋ｆ禍顔煎剼缁辩姷鍋�
    OLED_I2C_Write_Byte(0xA8, OLED_CMD); //set multiplex ratio --- 鐠佸墽鐤嗘径姘崇熅婢跺秶鏁ら敓锟�?
    OLED_I2C_Write_Byte(0x3F, OLED_CMD); //duty = 1/64閿燂拷?00h~3Fh
    OLED_I2C_Write_Byte(0xC8, OLED_CMD); //com scan direction --- Com閸欙絾澹傞幓蹇旀煙閸氭埊绱滳0h/C8h
    OLED_I2C_Write_Byte(0xD3, OLED_CMD); //set display offset --- 鐠佸墽鐤嗛弰鍓с仛閹跺灚绉�
    OLED_I2C_Write_Byte(0x00, OLED_CMD); //00h~3Fh

    OLED_I2C_Write_Byte(0xD5, OLED_CMD); //set osc division --- 鐠佸墽鐤嗛弮鍫曟寭閸掑棝鍘ら崪灞惧盁閼斤繝顣堕敓锟�?
    OLED_I2C_Write_Byte(0x80, OLED_CMD);

    OLED_I2C_Write_Byte(0xD9, OLED_CMD); //set pre-charge period --- 鐠佸墽鐤嗘０鍕帠閻㈤潧鎳嗛敓锟�?
    OLED_I2C_Write_Byte(0x22, OLED_CMD);

    OLED_I2C_Write_Byte(0xDA, OLED_CMD); //set com pin configuration --- 鐠佸墽鐤咰OM閸欙絽绱╅懘姘跺帳閿燂拷?
    OLED_I2C_Write_Byte(0x12, OLED_CMD);

    OLED_I2C_Write_Byte(0xDB, OLED_CMD); //set vcomh --- 鐠佸墽鐤咰OM閻㈤潧甯囩粵澶岄獓
    OLED_I2C_Write_Byte(0x20, OLED_CMD); //0x00 閳ユ棑鎷�? 0.65*Vcc
                                         //0x10 閳ユ棑鎷�? 0.71*Vcc
                                         //0x20 閳ユ棑鎷�? 0.77*Vcc
                                         //0x30 閳ユ棑鎷�? 0.83*Vcc

    OLED_I2C_Write_Byte(0x8D, OLED_CMD); //set charge pump enable --- 鐠佸墽鐤嗛悽浣冨祹濞夊吀濞囬敓锟�?
    OLED_I2C_Write_Byte(0x14, OLED_CMD);
    OLED_I2C_Write_Byte(0xAF, OLED_CMD); //display on --- 閹垫挸绱戦弰鍓с仛
}

/*line:0-7;column:0-128 
鐠佸墽鐤嗛弮绉巌ne+1鐎圭偤妾晶鐐插8
鐠佸墽鐤嗛弮绂紀lumn+1鐎圭偤妾晶鐐插1
*/
void OLED_SetPos(unsigned char line, unsigned char column) //鐠佸墽鐤嗙挧宄邦潗閻愮懓娼楅敓锟�?
{
    OLED_I2C_Write_Byte(0xb0 + line, OLED_CMD);     /*鐠佸墽鐤嗘い闈涙勾閸р偓*/
    OLED_I2C_Write_Byte((column & 0x0F), OLED_CMD); /*鐠佸墽鐤嗛崚妤€婀撮崸鈧�*/
    OLED_I2C_Write_Byte((column >> 4) | 0x10, OLED_CMD);
}

void OLED_Fill(unsigned char fill_Data) //閸忋劌鐫嗘繅顐㈠帠
{
    unsigned char m, n;
    for (m = 0; m < 8; m++)
    {
        OLED_I2C_Write_Byte(0xb0 + m, OLED_CMD); //page0-page1
        OLED_I2C_Write_Byte(0x00, OLED_CMD);     //low column start address
        OLED_I2C_Write_Byte(0x10, OLED_CMD);     //high column start address
        for (n = 0; n < 128; n++)
        {
            OLED_I2C_Write_Byte(fill_Data, OLED_DAT);
        }
    }
}

void OLED_CLS(void) //濞撳懎鐫�
{
    OLED_Fill(0x00);
}

void OLED_ON(void)
{
    OLED_I2C_Write_Byte(0X8D, OLED_CMD); //鐠佸墽鐤嗛悽浣冨祹閿燂拷?
    OLED_I2C_Write_Byte(0X14, OLED_CMD); //瀵偓閸氼垳鏁搁懡閿嬭溅
    OLED_I2C_Write_Byte(0XAF, OLED_CMD); //OLED閸炪倝鍟�
}

void OLED_OFF(void)
{
    OLED_I2C_Write_Byte(0X8D, OLED_CMD); //鐠佸墽鐤嗛悽浣冨祹閿燂拷?
    OLED_I2C_Write_Byte(0X10, OLED_CMD); //閸忔娊妫撮悽浣冨祹閿燂拷?
    OLED_I2C_Write_Byte(0XAE, OLED_CMD); //OLED娴兼垹婀�
}

void show_char_a_type(uint8_t line, uint8_t column, unsigned char *array)
{
    uint8_t i = 0;

    OLED_SetPos(line, column);
    for (i = 0; i < 8; i++)
    {
        OLED_I2C_Write_Byte(array[i], OLED_DAT);
    }
    OLED_SetPos(line + 1, column);
    for (i = 0; i < 8; i++)
    {
        OLED_I2C_Write_Byte(array[i + 8], OLED_DAT);
    }
}

void show_char_a1type(uint8_t line, uint8_t column, char character)
{
    uint8_t i = 0;

    for (i = 0; i < ASC_16_num; i++)
    {
        if (ASC_16[i].Index[0] == character)
            break;
    }

    if (i == ASC_16_num)
        return;

    show_char_a_type(line, column, ASC_16[i].Msk);
}

void show_string_atype(uint8_t line, uint8_t column, char *data, uint8_t len)
{
    uint8_t i = 0;
    column *= 8;
    for (i = 0; i < len; i++)
    {
        show_char_a1type(line, column, *data);
        column += 1 * 8;
        data += 1;
    }
}

void show_hz(uint8_t line, uint8_t column, unsigned char *array)
{
    uint8_t i = 0;

    OLED_SetPos(line, column);
    for (i = 0; i < 16; i++)
    {
        OLED_I2C_Write_Byte(array[i], OLED_DAT);
    }
    OLED_SetPos(line + 1, column);
    for (i = 0; i < 16; i++)
    {
        OLED_I2C_Write_Byte(array[i + 16], OLED_DAT);
    }
}
/*
*****************************************************************
閸旂喕鍏橀幓蹇氬牚閿涙碍妯夌粈杞扮娑擃亝鐪介敓锟�?
閸戣姤鏆熺仦鐐粹偓褝绱版径鏍劥鐠嬪啰鏁�
鐠囧瓨妲戞禍瀣€嶉敍姘崇殶閻⑩暞how_hz()閸戣姤鏆�

閸忋儱褰涢崣鍌涙殶閿涙in:閿燂拷?(0-7), column: 閿燂拷?(0-7)  array: 鐎涙膩閸栫儤鏆熼敓锟�?   black:閺勵垰鎯侀崣宥囨閺勫墽銇氶弽鍥х箶(0:濮濓絽鐖堕弰鍓с仛閿涘矂娼�0閿涙艾寮介惂鑺ユ▔閿燂拷?)
閸戝搫褰涢崣鍌涙殶閿涙oid

鎼存梻鏁ょ€圭偘绶ラ敍姝磆ow_hanzi(2, 0, "閿燂拷?");         //閺勫墽銇氭稉鈧稉顏呯溄閿燂拷?"閿燂拷?"  鐎圭蛋閿燂拷?=16x16
*****************************************************************
*/
void show_hanzi(uint8_t line, uint8_t column, char *data)
{
    unsigned int i;

    for (i = 0; i < GB_16_num; i++)
    {
        if (GB_16[i].Index[0] == data[0] && GB_16[i].Index[1] == data[1] && GB_16[i].Index[2] == data[2])
        {
            break;
        }
    }

    if (i == GB_16_num)
    {
        return;
    }
    show_hz(line, column, GB_16[i].Msk);
}

/*
*****************************************************************
閸旂喕鍏橀幓蹇氬牚閿涙碍妯夌粈杞扮娑撹弓鑵戦弬鍥╃暆娴ｆ捁绶敓锟�?
閸戣姤鏆熺仦鐐粹偓褝绱版径鏍劥鐠嬪啰鏁�
鐠囧瓨妲戞禍瀣€嶉敍姘叀鐞涖劍妯夌粈楦跨翻閿燂拷?        濮瑰鐡ф潏鎾冲毉娑擃亝鏆焠um: num < 8 - column

閸忋儱褰涢崣鍌涙殶閿涙in:閿燂拷?(0-7), column: 閿燂拷?(0-7)  array: 鐎涙膩閸栫儤鏆熼敓锟�?	black:閺勵垰鎯侀崣宥囨閺勫墽銇氶弽鍥х箶(0:濮濓絽鐖堕弰鍓с仛閿涘矂娼�0閿涙艾寮介惂鑺ユ▔閿燂拷?)
閸戝搫褰涢崣鍌涙殶閿涙oid

*****************************************************************
*/

void show_chs_string(uint8_t line, uint8_t column, char *data)
{
    while (*data != '\0')
    {
        show_hanzi(line, column, data);
        column += 1 * 16;
        data += 1 * 3; /*UTF-8,娑撯偓娑擃亝鐪界€涙‘B閻胶鏁�3娑擃亜鐡ч懞鍌滅矋閹达拷*/
    }
}
/*閺勫墽銇氶崶鍓уBMP
line0:0-7;column0:0-127
line1:0-7;column0:1-127
*/
void show_drawBMP(unsigned char line0, unsigned char column0, unsigned char line1, unsigned char column1, unsigned char BMP[])
{
    unsigned int tmp = 0;
    unsigned char line = 0, column = 0;

    for (line = line0; line <= line1; line++)
    {
        OLED_SetPos(line, column0);
        for (column = column0; column <= column1; column++)
        {
            OLED_I2C_Write_Byte(BMP[tmp++], OLED_DAT);
        }
    }
}
u32 oled_pow(u8 m, u8 n)
{
    u32 result = 1;
    while (n--)
        result *= m;
    return result;
}
